<template>
    <div class="about"  aria-labelledby="about-title">
        <div class="about-bg-circles">
            <span class="circle circle1"></span>
            <span class="circle circle2"></span>
        </div>
        <h2 id="about-title" class="about__title">
            <span>About Me</span>
        </h2>
        <p class="about__summary highlight">ì›¹ì„ ì¢‹ì•„í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ, <span class="main-color">ëŠì„ì—†ì´ ì„±ì¥í•©ë‹ˆë‹¤.</span></p>
        <div class="about__content card-style">
            <div class="about__profile-float" 
                 :class="{ skeleton: isSkeleton }"
                 v-show="isProfileVisible"
            >
                <img src="@/assets/images/layout/about/profile_01.jpg" alt="ì •ì› í”„ë¡œí•„" />
            </div>
            <p class="about__paragraph about__paragraph--profile-hover">
                ì €ëŠ” ì›¹í¼ë¸”ë¦¬ì…”ë¡œ 12ë…„ì§¸ ì¦ê²ê²Œ ì¼í•˜ê³  ìˆëŠ”
                <span
                    class="about__profile-hover-trigger"
                    tabindex="0"
                    @mouseenter="showProfile"
                    @mouseleave="hideProfile"
                    @focus="showProfile"
                    @blur="hideProfile"
                >ì •ì›</span>ì´ì—ìš”.
            </p>

            <p class="about__paragraph">
                ì–´ë¦´ ë•Œë¶€í„° ê¶ê¸ˆí•œ ê²Œ ìƒê¸°ë©´ ì ë„ ëª» ìë˜ ì„±ê²©ì´ì—ˆì–´ìš”.  
                ì§€ê¸ˆë„ ë©‹ì§„ ì›¹ì‚¬ì´íŠ¸ë¥¼ ë³´ë©´ "ì´ê±° ì–´ë–»ê²Œ ë§Œë“¤ì—ˆì§€?"ë¼ëŠ” ìƒê°ì— ë¹ ì ¸  
                ë°¤ìƒˆ êµ¬ì¡°ë¥¼ íŒŒí—¤ì¹˜ê³  ì§ì ‘ êµ¬í˜„í•´ë³´ëŠ” ê±¸ ì¦ê¹ë‹ˆë‹¤. <span aria-label="ì›ƒëŠ” ì´ëª¨ì§€">ğŸ˜‚</span>
            </p>

            <p class="about__paragraph">
                ì›¹í¼ë¸”ë¦¬ì‹±ì€ ë‹¨ìˆœíˆ ì½”ë“œë¥¼ ì§œëŠ” ì¼ì´ ì•„ë‹ˆì—ìš”.  
                ë””ìì¸ì„ êµ¬ì¡°í™”í•˜ê³ , ì‚¬ìš©ìì—ê²Œ ë” ë‚˜ì€ ê²½í—˜ì„ ì£¼ëŠ”  
                <strong>'ë³´ì´ëŠ” ê¸°ìˆ '</strong>ì´ë¼ê³  ìƒê°í•©ë‹ˆë‹¤.
            </p>

            <p class="about__paragraph">
                ê·¸ë˜ì„œ ì €ëŠ” ê¸°ë³¸ì— ì¶©ì‹¤í•˜ë ¤ê³  í•©ë‹ˆë‹¤.  
                íƒ„íƒ„í•œ ë§ˆí¬ì—…, íš¨ìœ¨ì ì¸ CSS, ê·¸ë¦¬ê³  ìƒë™ê° ìˆëŠ” JavaScriptê¹Œì§€.  
                <strong>ë¿Œë¦¬ê°€ íŠ¼íŠ¼í•´ì•¼ ë©‹ì§„ ë‚˜ë¬´ê°€ ìë¼ë‹ˆê¹Œìš”</strong> <span aria-label="ë‚˜ë¬´ ì´ëª¨ì§€">ğŸŒ³</span>
            </p>

            <p class="about__paragraph">
                íŠ¹íˆ <strong>ì›¹ì ‘ê·¼ì„±ê³¼ ì›¹í‘œì¤€</strong>ì€ ì‚¬ìš©ìì˜ ë‹¤ì–‘ì„±ì„ ì¡´ì¤‘í•˜ëŠ” ë° ê¼­ í•„ìš”í•˜ë‹¤ê³  ìƒê°í•´ìš”.  
                ëˆ„êµ¬ë‚˜ ì œì•½ ì—†ì´ ì½˜í…ì¸ ë¥¼ ì´ìš©í•  ìˆ˜ ìˆë„ë¡, ì‹œë©˜í‹± íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ê³   
                ìŠ¤í¬ë¦°ë¦¬ë” ì‚¬ìš©ìë¥¼ ìœ„í•œ ARIA ì†ì„±ë„ ê¼¼ê¼¼íˆ ì±™ê¸°ë©° ì‘ì—…í•˜ê³  ìˆìŠµë‹ˆë‹¤.
            </p>

            <p class="about__paragraph">
                Vue, React, Svelte ê°™ì€ ë‹¤ì–‘í•œ ë„êµ¬ë„ ì§ì ‘ ì‚¬ìš©í•˜ë©°  
                ì‹¤ë¬´ì— ìì—°ìŠ¤ëŸ½ê²Œ ë…¹ì¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ëŠ˜ ê³ ë¯¼í•˜ê³  ìˆì–´ìš”.
            </p>

            <p class="about__paragraph">
                ë¬´ì—‡ë³´ë‹¤ ì¤‘ìš”í•œ ê±´, <strong>ì›¹ì„ ì¢‹ì•„í•˜ëŠ” ë§ˆìŒ</strong>ì„ ìƒì§€ ì•ŠëŠ” ê²ƒ.  
                ë°°ìš°ëŠ” ê²Œ ì¬ë°Œê³ , ë§Œë“œëŠ” ê²Œ ì¦ê±°ìš´ ì´ ë§ˆìŒì´  
                ì œê°€ ê³„ì† ì„±ì¥í•˜ê²Œ ë§Œë“œëŠ” ì›ë™ë ¥ì…ë‹ˆë‹¤.
            </p>
        </div>
    </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import gsap from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

// í”„ë¡œí•„ í‘œì‹œ ìƒíƒœ ê´€ë¦¬
const isProfileVisible = ref(false)
const isSkeleton = ref(false)
let skeletonTimer: number | null = null

// í”„ë¡œí•„ í‘œì‹œ í•¨ìˆ˜
const showProfile = () => {
    isSkeleton.value = true
    if (skeletonTimer) clearTimeout(skeletonTimer)
    skeletonTimer = window.setTimeout(() => {
        isProfileVisible.value = true
        isSkeleton.value = false
    }, 1000)
}

// í”„ë¡œí•„ ìˆ¨ê¹€ í•¨ìˆ˜
const hideProfile = () => {
    if (skeletonTimer) clearTimeout(skeletonTimer)
    isProfileVisible.value = false
    isSkeleton.value = false
}

// ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ ì‹¤í–‰
onMounted(() => {
    gsap.registerPlugin(ScrollTrigger)
    // ì œëª© ì• ë‹ˆë©”ì´ì…˜
    gsap.from('.about__title', {
        y: 60, opacity: 0, duration: 1,
        scrollTrigger: {
            trigger: '.about__title',
            start: 'top 90%',
            toggleActions: 'play none none reverse'
        }
    });
    // ìš”ì•½ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜
    gsap.from('.about__summary', {
        y: 60, opacity: 0, duration: 1, delay: 0.15,
        scrollTrigger: {
            trigger: '.about__summary',
            start: 'top 90%',
            toggleActions: 'play none none reverse'
        }
    });
    // ì½˜í…ì¸  ì˜ì—­ ì• ë‹ˆë©”ì´ì…˜
    gsap.from('.about__content', {
        y: 80, opacity: 0, duration: 1.1, delay: 0.3,
        scrollTrigger: {
            trigger: '.about__content',
            start: 'top 90%',
            toggleActions: 'play none none reverse'
        }
    });
    // ë¬¸ë‹¨ ìˆœì°¨ì  ë“±ì¥ ì• ë‹ˆë©”ì´ì…˜
    gsap.from('.about__paragraph', {
        y: 40, opacity: 0, duration: 0.8, stagger: 0.12,
        scrollTrigger: {
            trigger: '.about__content',
            start: 'top 90%',
            toggleActions: 'play none none reverse'
        }
    });
    // ë°°ê²½ ì› ìŠ¤í¬ë¡¤ ì—°ë™ ëª¨ì…˜ - ì²« ë²ˆì§¸ ì›
    gsap.to('.circle1', {
        y: 200, scale: 1.25, opacity: 0.4,
        scrollTrigger: {
            trigger: '.about',
            start: 'top bottom',
            end: 'bottom top',
            scrub: 1
        }
    });
    // ë°°ê²½ ì› ìŠ¤í¬ë¡¤ ì—°ë™ ëª¨ì…˜ - ë‘ ë²ˆì§¸ ì›
    gsap.to('.circle2', {
        x: -160, scale: 1.25, opacity: 0.32,
        scrollTrigger: {
            trigger: '.about',
            start: 'top bottom',
            end: 'bottom top',
            scrub: 1.2
        }
    });
})
</script>

<style lang="scss" scoped>
@use '@/assets/scss/common/_var' as v;
@use '@/assets/scss/common/_mixins' as *;

// About ì„¹ì…˜ ê¸°ë³¸ ìŠ¤íƒ€ì¼
.about {
    position: relative;
    width: 100%;
    min-height: 100vh;
    padding: 6em 12em 8em;
    background-color: #151619;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 1em;

    @include tablet { padding: 5em 2.5em 8em; }
    @include mobile { gap: 2.5em; padding: 4em 1.2em; }

    // ë°°ê²½ ì› ìŠ¤íƒ€ì¼
    .about-bg-circles {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        pointer-events: none;
        z-index: 0;
        .circle {
            position: absolute;
            border-radius: 50%;
            filter: blur(32px);
            opacity: 0.18;
        }
        .circle1 {
            width: 420px; height: 420px;
            left: -120px; top: 10%;
            background: v.$main-color;
        }
        .circle2 {
            width: 320px; height: 320px;
            right: -100px; bottom: 5%;
            background: #38bdf8;
        }
    }

    // ì œëª© ìŠ¤íƒ€ì¼
    &__title {
        display: flex;
        align-items: center;
        font-size: 3em;
        font-weight: 800;
        margin-bottom: .75em;
        letter-spacing: 0.025em;
        z-index: 1;
        letter-spacing: .025em;
        font-family: v.$font-en5;
        @include tablet { font-size: 2em; margin-bottom:0;}
        @include mobile { font-size: 2.2em; margin-bottom:0;}
    }

    // ìš”ì•½ í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼
    &__summary {
        font-size: 2.2em;
        font-weight: 600;
        color: #fff;
        text-shadow: 0 2px 16px rgba(76,222,128,0.15);
        line-height: 1.3;
        z-index: 1;
        word-break:keep-all;
        .main-color { color: v.$main-color; font-weight: 700; }
        @include tablet { font-size: 1.5em; }
        @include mobile { font-size: 1.5em;  }
    }

    // ì¹´ë“œ ìŠ¤íƒ€ì¼ ê³µí†µ
    .card-style, .about__content {
        background: rgba(255,255,255,0.13);
        border-radius: 2.2em;
        box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18);
        padding: 3.5em 2.5em;
        margin-top: 1em;
        z-index: 1;
        width: 100%;
        overflow-wrap: break-word;
        word-break: keep-all;
        min-width: 0;
        border: 1px solid rgba(255,255,255,0.18);
        backdrop-filter: blur(16px);
        position: relative;
        @include mobile { padding: 1em 1.5em; margin-top:0; }
        &::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: linear-gradient(120deg,rgba(76,222,128,0.08) 0%,rgba(56,189,248,0.08) 100%);
            z-index: 0;
            pointer-events: none;
        }
    }

    // ë¬¸ë‹¨ ìŠ¤íƒ€ì¼
    &__paragraph {
        position: relative;
        z-index: 1;
        font-size: 1.18em;
        line-height: 2;
        margin-bottom: 1.5em;
        color: #f7f7f7;
        strong { color: v.$main-color; font-weight: 700; background: rgba(76,222,128,0.08); border-radius: 0.3em; padding: 0 0.2em; }
        span[aria-label] { font-size: 1.2em; vertical-align: middle; }
        &:last-child { margin-bottom: 0; }
        @include mobile { font-size: 1.1em; line-height: 1.3; margin-bottom: 1em; }
    }

    // í”„ë¡œí•„ í”Œë¡œíŒ… ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼
    .about__profile-float {
        position: absolute;
        left: 50%;
        top: -90px;
        transform: translateX(-50%);
        width: 280px;
        height: 280px;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 24px 0 rgba(0,0,0,0.18);
        background: rgba(255,255,255,0.12);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        pointer-events: none;
        z-index: 10;
        transition: opacity 0.3s, transform 0.3s;
        &.skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }
        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        @include mobile { display: none !important; }
        @include tablet { display: none !important; }
    }

    // ì½˜í…ì¸  ì˜ì—­ ìŠ¤íƒ€ì¼
    .about__content {
        position: relative;
    }
}

// ë¡œë”© ì• ë‹ˆë©”ì´ì…˜
@keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

// í”„ë¡œí•„ í˜¸ë²„ íŠ¸ë¦¬ê±° ìŠ¤íƒ€ì¼
.about__profile-hover-trigger {
    cursor: pointer;
    display: inline-block;
    outline: none;
    transition: color 0.2s;
    &:hover, &:focus {
        color: v.$main-color;
    }
}
</style>  

